{
  "openapi": "3.0.0",
  "info": {
    "version": "v1.0.0",
    "title": "Swagger para API Banco",
    "description": "Enpoints para API Banco, realizada por el Grupo 1, Integracion de aplicaciones | Segundo Cuatrimestre 2021 ",
    "license": {
      "name": "UADE",
      "url": "https://www.uade.edu.ar/"
    }
  },
  "servers": [
    {
      "url": "/api/users/",
      "description": "Servidor localhost o heroku"
    }
  ],
  "tags": [
    {
      "name": "Token",
      "description": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMGQzZjNhZTU2NGRhMjUwOGZiMDFlNSIsImlhdCI6MTYyODI1ODEwNiwiZXhwIjoxNjQzODEwMTA2fQ.tsv_8Yo7TMi0hxBGMtQ_1ltRFd4Sbtaf8HDKKepHtwY"
    },
    {
      "name": "Usuarios",
      "description": "Endpoints para manejo de usuarios"
    },
    {
      "name": "Empresas",
      "description": "Endpoints para manejo de empresas"
    },
    {
      "name": "Movimientos",
      "description": "Endpoints para manejo de movimientos"
    }
  ],
  "consumes": ["application/json"],
  "produces": ["application/json"],

  "paths": {
    "/registration": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Generacion de usuarios nuevos",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Registro de usuarios nuevos - (usuariotipo : 1 no juridico, 2 juridico, 3 operador)",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuario"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el usuario"
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Login de usuarios",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El usuario debe existir primero",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Login"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario loggeado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer loggear el usuario"
          }
        }
      }
    },
    "/loginATM": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Login de usuarios en ATM",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El usuario debe existir primero",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/LoginATM"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario loggeado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer loggear el usuario"
          }
        }
      }
    },
    "/getusers": {
      "get": {
        "tags": ["Usuarios"],
        "summary": "Obtencion de usuarios",
        "description": "Recupero todos los usuarios, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuarios obtenidos correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener los usuarios"
          }
        }
      }
    },
    "/updateusers": {
      "put": {
        "tags": ["Usuarios"],
        "summary": "Actualizacion de usuarios",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Usuario el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuarioupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuario actualizado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar el usuario"
          }
        }
      }
    },
    "/updateuseralias": {
      "put": {
        "tags": ["Usuarios"],
        "summary": "Actualizacion de Cuentas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Alias el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuarioupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },
    "/updateusercbu": {
      "put": {
        "tags": ["Usuarios"],
        "summary": "Actualizacion de Cuentas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo CBU el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuarioupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },
    "/delete/{id}": {
      "parameters": [
        {
          "name": "x-access-token",
          "in": "header",
          "required": true,
          "type": "string"
        },
        {
          "name": "id",
          "in": "path",
          "required": true,
          "description": "ID del usuario que quiero eliminar",
          "type": "string"
        }
      ],
      "delete": {
        "summary": "Elimina usuario",
        "tags": ["Usuarios"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "Elimina usuario por id",
            "schema": {
              "$ref": "#/definitions/id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario eliminado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "404": {
            "description": "Error al querer eliminar el usuario"
          }
        }
      }
    },
    "/userid/{id}": {
      "post": {
        "summary": "Obtengo usuario especifico por ID",
        "tags": ["Usuarios"],
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID del usuario que quiero obtener",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "201": {
            "description": "Error al querer obtener el usuario"
          }
        }
      }
    },
    "/getusers/{cbu}": {
      "post": {
        "summary": "Obtengo usuario especifico por CBU",
        "tags": ["Usuarios"],
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          },
          {
            "name": "cbu",
            "in": "path",
            "required": true,
            "description": "CBU del usuario que quiero obtener",
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "201": {
            "description": "Error al querer obtener el usuario"
          }
        }
      }
    },
    "/altaempresa": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Generacion de empresas nuevas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Registro de empresas nuevas",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Empresa"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el usuario"
          }
        }
      }
    },
    "/getempresas": {
      "get": {
        "tags": ["Empresas"],
        "summary": "Obtencion de empresas",
        "description": "Recupero todos los usuarios, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Empresas obtenidas correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener las empresas"
          }
        }
      }
    },
    "/updateEmpresa": {
      "put": {
        "tags": ["Empresas"],
        "summary": "Actualizacion de empresas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo nombre el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Empresaupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuario actualizado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar el usuario"
          }
        }
      }
    },
    "/empresaid/{id}": {
      "post": {
        "summary": "Obtengo usuario especifico",
        "tags": ["Empresas"],
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID de la empresa que quiero obtener",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Empresa obtenida correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "201": {
            "description": "Error al querer obtener la empresa"
          }
        }
      }
    },
    "/registromovimiento": {
      "post": {
        "tags": ["Movimientos"],
        "summary": "Generacion de movimientos nuevos",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Registro de movimientos nuevos",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Movimiento"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Movimiento generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el movimiento"
          }
        }
      }
    },
    "/getmovimientos": {
      "get": {
        "tags": ["Movimientos"],
        "summary": "Obtencion de movimientos",
        "description": "Recupero todos los movimientos, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Movimientos obtenidas correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener los movimientos"
          }
        }
      }
    },
    "/movimientoid/{id}": {
      "post": {
        "summary": "Obtengo movimiento especifico",
        "tags": ["Movimientos"],
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID del movimiento que quiero obtener",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Movimiento obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "201": {
            "description": "Error al querer obtener el movimiento"
          }
        }
      }
    },
    "/getMovimientoUsuario/{usuario}": {
      "post": {
        "summary": "Obtengo movimiento especifico por Usuario",
        "tags": ["Movimientos"],
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          },
          {
            "name": "usuario",
            "in": "path",
            "required": true,
            "description": "Usuario del movimiento que quiero obtener",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Movimiento obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "201": {
            "description": "Error al querer obtener el movimiento"
          }
        }
      }
    }
  },
  

  "definitions": {
    "id": {
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "Usuario": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "apellido": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "usuariotipo": {
          "type": "integer"
        },
        "tipodni": {
          "type": "string"
        },
        "dni": {
          "type": "string"
        },
        "empresa": {
          "type": "string"
        },
        "nacimiento": {
          "type": "string"
        },
        "telefono": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        },
        "calle": {
          "type": "string"
        },
        "altura": {
          "type": "string"
        },
        "ciudad": {
          "type": "string"
        },
        "piso": {
          "type": "string"
        },
        "provincia": {
          "type": "string"
        },
        "depto": {
          "type": "string"
        },
        "pais": {
          "type": "string"
        }
      }
    },
    "Usuarioupdate": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "apellido": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "usuariotipo": {
          "type": "integer"
        },
        "tipodni": {
          "type": "string"
        },
        "dni": {
          "type": "string"
        },
        "estadocuenta": {
          "type": "integer"
        },
        "empresa": {
          "type": "string"
        },
        "nacimiento": {
          "type": "string"
        },
        "telefono": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        },
        "calle": {
          "type": "string"
        },
        "altura": {
          "type": "string"
        },
        "ciudad": {
          "type": "string"
        },
        "piso": {
          "type": "string"
        },
        "flagdolar": {
          "type": "integer"
        },
        "flageuro": {
          "type": "integer"
        },
        "balancecc": {
          "type": "integer"
        },
        "balanceca": {
          "type": "integer"
        },
        "balancedls": {
          "type": "integer"
        },
        "balanceeu": {
          "type": "integer"
        },
        "provincia": {
          "type": "string"
        },
        "depto": {
          "type": "string"
        },
        "pais": {
          "type": "string"
        }
      }
    },
    "Login": {
      "type": "object",
      "properties": {
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "Movimiento": {
      "type": "object",
      "properties": {
        "tipomovimiento": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "usuario": {
          "type": "string"
        }
      }
    },
    "Empresa": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "codigopago": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "mes": {
          "type": "integer"
        },
        "fechavencimiento": {
          "type": "integer"
        },
        "estado": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        }
      }
    },
    "Empresaupdate": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "codigopago": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "mes": {
          "type": "integer"
        },
        "fechavencimiento": {
          "type": "integer"
        },
        "estado": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        }
      }
    },
    "LoginATM": {
      "type": "object",
      "properties": {
        "cuit": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    }
  }
}
