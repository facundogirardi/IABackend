{
  "openapi": "3.0.0",
  "info": {
    "version": "v1.0.0",
    "title": "Swagger para API Banco",
    "description": "Enpoints para uso externo. API Banco realizada por el Grupo 1, Integracion de aplicaciones | Segundo Cuatrimestre 2021 ",
    "license": {
      "name": "UADE",
      "url": "https://www.uade.edu.ar/"
    }
  },
  "servers": [
    {
      "url": "/api/users/",
      "description": "Servidor localhost o heroku"
    }
  ],
  "tags": [
    {
      "name": "Usuarios",
      "description": "Endpoints para manejo de usuarios"
    },
    {
      "name": "Empresas",
      "description": "Endpoints para manejo de empresas"
    }
  ],
  "consumes": ["application/json"],
  "produces": ["application/json"],

  "paths": {
    "/registration": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Generacion de usuarios nuevos",
        "requestBody": {
          "description": "Registro de usuarios nuevos - (usuariotipo : 1 no juridico, 2 juridico, 3 operador)",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuario"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el usuario"
          }
        }
      }
    },
    "/altaempresa": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Alta de cuotas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],

        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el usuario"
          }
        }
      }
    },
    "/getempresas": {
      "get": {
        "tags": ["Empresas"],
        "summary": "Obtencion de cuotas",
        "description": "Recupero todos las cuotas de pago",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Empresas obtenidas correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener las empresas"
          }
        }
      }
    },
    "/getEmpresaCUITEmpresa": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Obtengo la cuit por Empresa especifico",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo CuitEmpresa el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/cuitEmpresa"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cupon obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener el cupon"
          }
        }
      }
    },
    "/getEmpresaPAGO": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Obtengo usuario especifico por CBU de caja de ahorro",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Codigopago el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/codigopago"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cupon obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener el cupon"
          }
        }
      }
    },
    "/getEmpresaCUIT": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Obtengo cupon por Cuit de usuario especifico",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Cuit el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/cuit"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },
    "/updateEmpresa": {
      "put": {
        "tags": ["Empresas"],
        "summary": "Actualizacion de cuotas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Actualizo estado de cuotas",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Empresaupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuario actualizado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar el usuario"
          }
        }
      }
    }
  },

  "definitions": {
    "id": {
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "cuit": {
      "properties": {
        "cuit": {
          "type": "string"
        }
      }
    },
    "cuitEmpresa": {
      "properties": {
        "cuitEmpresa": {
          "type": "string"
        }
      }
    },
    "codigopago": {
      "properties": {
        "codigopago": {
          "type": "string"
        }
      }
    },
    "Login": {
      "type": "object",
      "properties": {
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "Usuario": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "apellido": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "usuariotipo": {
          "type": "integer"
        },
        "tipodni": {
          "type": "string"
        },
        "dni": {
          "type": "string"
        },
        "empresa": {
          "type": "string"
        },
        "nacimiento": {
          "type": "string"
        },
        "telefono": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        },
        "calle": {
          "type": "string"
        },
        "altura": {
          "type": "string"
        },
        "ciudad": {
          "type": "string"
        },
        "piso": {
          "type": "string"
        },
        "provincia": {
          "type": "string"
        },
        "depto": {
          "type": "string"
        }
      }
    },
    "Empresa": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "codigopago": {
          "type": "string"
        },
        "cuitEmpresa": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "mes": {
          "type": "integer"
        },
        "fechavencimiento": {
          "type": "integer"
        },
        "estado": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        }
      }
    },
    "Empresaupdate": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "codigopago": {
          "type": "string"
        },
        "cuitEmpresa": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "mes": {
          "type": "integer"
        },
        "fechavencimiento": {
          "type": "string"
        },
        "estado": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        }
      }
    }
  }
}
