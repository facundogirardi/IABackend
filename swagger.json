{
  "openapi": "3.0.0",
  "info": {
    "version": "v1.0.0",
    "title": "Swagger para API Banco",
    "description": "Enpoints para API Banco, realizada por el Grupo 1, Integracion de aplicaciones | Segundo Cuatrimestre 2021 ",
    "license": {
      "name": "UADE",
      "url": "https://www.uade.edu.ar/"
    }
  },
  "servers": [
    {
      "url": "/api/users/",
      "description": "Servidor localhost o heroku"
    }
  ],
  "tags": [
    {
      "name": "Token",
      "description": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMGQzZjNhZTU2NGRhMjUwOGZiMDFlNSIsImlhdCI6MTYyODI1ODEwNiwiZXhwIjoxNjQzODEwMTA2fQ.tsv_8Yo7TMi0hxBGMtQ_1ltRFd4Sbtaf8HDKKepHtwY"
    },
    {
      "name": "Usuarios",
      "description": "Endpoints para manejo de usuarios"
    },
    {
      "name": "Empresas",
      "description": "Endpoints para manejo de empresas"
    },
    {
      "name": "Movimientos",
      "description": "Endpoints para manejo de movimientos"
    }
  ],
  "consumes": ["application/json"],
  "produces": ["application/json"],

  "paths": {
    "/registration": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Generacion de usuarios nuevos",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Registro de usuarios nuevos - (usuariotipo : 1 no juridico, 2 juridico, 3 operador)",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuario"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el usuario"
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Login de usuarios",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El usuario debe existir primero",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Login"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario loggeado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer loggear el usuario"
          }
        }
      }
    },
    "/getusers": {
      "get": {
        "tags": ["Usuarios"],
        "summary": "Obtencion de usuarios",
        "description": "Recupero todos los usuarios, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuarios obtenidos correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener los usuarios"
          }
        }
      }
    },
    "/updateusers": {
      "put": {
        "tags": ["Usuarios"],
        "summary": "Actualizacion de usuarios",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Usuario el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuarioupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuario actualizado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar el usuario"
          }
        }
      }
    },
    "/updateusercbu": {
      "put": {
        "tags": ["Usuarios"],
        "summary": "Actualizacion de Cuentas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo CBU el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuarioupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },

    "/updateusercbuCC": {
      "put": {
        "tags": ["Usuarios"],
        "summary": "Actualizacion de Cuentas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo CBUcc el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Usuarioupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },

    "/getusersCBU": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Obtengo usuario especifico por CBU de caja de ahorro",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo CBU el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/CBU"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },

    "/getusersCBUCC": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Obtengo usuario especifico por CBU de cuenta corriente",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo CBUcc el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/CBUcc"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },
    "/getusersUsuario": {
      "post": {
        "tags": ["Usuarios"],
        "summary": "Obtengo usuario especifico por Usuario",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Usuario el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Getmovimiento"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Cuenta actualizada correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar la cuenta"
          }
        }
      }
    },
    "/altaempresa": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Generacion de empresas nuevas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Registro de empresas nuevas",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Empresa"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Usuario generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el usuario"
          }
        }
      }
    },
    "/getempresas": {
      "get": {
        "tags": ["Empresas"],
        "summary": "Obtencion de empresas",
        "description": "Recupero todos las empresas, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Empresas obtenidas correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener las empresas"
          }
        }
      }
    },
    "/getEmpresasID": {
      "post": {
        "tags": ["Empresas"],
        "summary": "Obtencion de empresa por ID",
        "description": "Recupero todos as empresas, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo ID el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/id"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Empresas obtenidas correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener las empresas"
          }
        }
      }
    },
    "/updateEmpresa": {
      "put": {
        "tags": ["Empresas"],
        "summary": "Actualizacion de empresas",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo nombre el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Empresaupdate"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Usuario actualizado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer actualizar el usuario"
          }
        }
      }
    },
    "/registromovimiento": {
      "post": {
        "tags": ["Movimientos"],
        "summary": "Generacion de movimientos nuevos",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "Registro de movimientos nuevos",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Movimiento"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "201": {
            "description": "Movimiento generado correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer generar el movimiento"
          }
        }
      }
    },
    "/getmovimientos": {
      "get": {
        "tags": ["Movimientos"],
        "summary": "Obtencion de movimientos",
        "description": "Recupero todos los movimientos, utiliza token de seguridad",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Movimientos obtenidas correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "400": {
            "description": "Error al querer obtener los movimientos"
          }
        }
      }
    },

    "/getMovimientoUsuario": {
      "post": {
        "tags": ["Movimientos"],
        "summary": "Obtengo movimiento especifico por Usuario",
        "parameters": [
          {
            "name": "x-access-token",
            "in": "header",
            "required": true,
            "type": "string"
          }
        ],
        "requestBody": {
          "description": "El campo Usuario el indice de busqueda",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/definitions/Getmovimiento"
              }
            }
          }
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Movimiento obtenido correctamente",
            "schema": {
              "$ref": "#/definitions/id"
            }
          },
          "201": {
            "description": "Error al querer obtener el movimiento"
          }
        }
      }
    }
  },
  "definitions": {
    "id": {
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "CBU": {
      "properties": {
        "cbu": {
          "type": "integer"
        }
      }
    },
    "CBUcc": {
      "properties": {
        "cbuCC": {
          "type": "integer"
        }
      }
    },
    "Getmovimiento": {
      "properties": {
        "usuario": {
          "type": "string"
        }
      }
    },
    "Usuario": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "apellido": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "usuariotipo": {
          "type": "integer"
        },
        "tipodni": {
          "type": "string"
        },
        "dni": {
          "type": "string"
        },
        "empresa": {
          "type": "string"
        },
        "nacimiento": {
          "type": "string"
        },
        "telefono": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        },
        "calle": {
          "type": "string"
        },
        "altura": {
          "type": "string"
        },
        "ciudad": {
          "type": "string"
        },
        "piso": {
          "type": "string"
        },
        "provincia": {
          "type": "string"
        },
        "depto": {
          "type": "string"
        }
      }
    },
    "Usuarioupdate": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "apellido": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "usuariotipo": {
          "type": "integer"
        },
        "tipodni": {
          "type": "string"
        },
        "dni": {
          "type": "string"
        },
        "estadocuenta": {
          "type": "integer"
        },
        "empresa": {
          "type": "string"
        },
        "nacimiento": {
          "type": "string"
        },
        "telefono": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        },
        "calle": {
          "type": "string"
        },
        "altura": {
          "type": "string"
        },
        "ciudad": {
          "type": "string"
        },
        "piso": {
          "type": "string"
        },
        "cbu": {
          "type": "integer"
        },
        "cbuCC": {
          "type": "integer"
        },
        "numerocajacc": {
          "type": "integer"
        },
        "numerocajaca": {
          "type": "integer"
        },
        "nrocuenta": {
          "type": "integer"
        },
        "balancecc": {
          "type": "integer"
        },
        "balanceca": {
          "type": "integer"
        },
        "provincia": {
          "type": "string"
        },
        "depto": {
          "type": "string"
        }
      }
    },
    "Login": {
      "type": "object",
      "properties": {
        "usuario": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "Movimiento": {
      "type": "object",
      "properties": {
        "tipomovimiento": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "usuario": {
          "type": "string"
        },
        "importeCC": {
          "type": "integer"
        },
        "importeCA": {
          "type": "integer"
        }
      }
    },
    "Empresa": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "codigopago": {
          "type": "string"
        },
        "cuitEmpresa": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "mes": {
          "type": "integer"
        },
        "fechavencimiento": {
          "type": "integer"
        },
        "estado": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        }
      }
    },
    "Empresaupdate": {
      "type": "object",
      "properties": {
        "nombre": {
          "type": "string"
        },
        "codigopago": {
          "type": "string"
        },
        "cuitEmpresa": {
          "type": "string"
        },
        "importe": {
          "type": "integer"
        },
        "mes": {
          "type": "integer"
        },
        "fechavencimiento": {
          "type": "integer"
        },
        "estado": {
          "type": "string"
        },
        "cuit": {
          "type": "string"
        }
      }
    }
  }
}
